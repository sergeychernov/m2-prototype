(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{6410:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/telegram",function(){return r(7572)}])},7572:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(7876),o=r(4250),b=r.n(o),i=r(4232);function a(e){let{dialogSequence:t,title:r,initialMessagesCount:o=0}=e,[a,d]=(0,i.useState)([]),n=(0,i.useRef)(null),l=(0,i.useRef)(0),x=(0,i.useRef)(null),c=e=>{d(t=>[...t,e]),setTimeout(()=>{var e;null==(e=x.current)||e.scrollTo(0,x.current.scrollHeight)},0)},f=()=>{if(l.current<t.length){let e=t[l.current];setTimeout(()=>{c(e),l.current++},500)}else c({sender:"bot",text:"Спасибо! Если есть еще вопросы, спрашивайте."})},u=()=>{var e;let t=null==(e=n.current)?void 0:e.value.trim();t&&(c({sender:"user",text:t}),n.current&&(n.current.value="")),f()},p=()=>{f()};return(0,i.useEffect)(()=>{d([]),l.current=0;for(let e=0;e<Math.min(o,t.length);e++)c(t[e]),l.current=e+1},[t,o]),(0,s.jsxs)("div",{className:"jsx-f14b7ebe9cebd57f chat-container",children:[(0,s.jsxs)("div",{className:"jsx-f14b7ebe9cebd57f chat-header",children:[(0,s.jsx)("h3",{className:"jsx-f14b7ebe9cebd57f",children:r}),(0,s.jsx)("button",{onClick:()=>{d(e=>{if(0===e.length)return[];let r=e[e.length-1],s=e.slice(0,-1);if("bot"===r.sender){let e=t[l.current-1];e&&e.text===r.text&&l.current--}return s})},className:"jsx-f14b7ebe9cebd57f delete-last-message-button",children:"✖ "})]}),(0,s.jsx)("div",{ref:x,className:"jsx-f14b7ebe9cebd57f messages",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"jsx-f14b7ebe9cebd57f "+"message ".concat(e.sender),children:[(0,s.jsx)("span",{className:"jsx-f14b7ebe9cebd57f",children:e.text}),"bot"===e.sender&&e.menu&&(0,s.jsx)("div",{style:{marginTop:"5px"},className:"jsx-f14b7ebe9cebd57f",children:e.menu.map(e=>(0,s.jsx)("button",{onClick:p,className:"jsx-f14b7ebe9cebd57f inline-menu-button",children:e.text},e.callback_data))})]},t))}),(0,s.jsxs)("div",{className:"jsx-f14b7ebe9cebd57f input-area",children:[(0,s.jsx)("input",{ref:n,type:"text",placeholder:"Введите сообщение...",onKeyPress:e=>"Enter"===e.key&&u(),className:"jsx-f14b7ebe9cebd57f"}),(0,s.jsx)("button",{onClick:u,className:"jsx-f14b7ebe9cebd57f",children:"Отправить"})]}),(0,s.jsx)(b(),{id:"f14b7ebe9cebd57f",children:".chat-container.jsx-f14b7ebe9cebd57f{width:30%;min-width:300px;height:600px;border:1px solid#ccc;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);margin:10px}.chat-container.jsx-f14b7ebe9cebd57f h3.jsx-f14b7ebe9cebd57f{text-align:center;padding:10px;margin:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.chat-header.jsx-f14b7ebe9cebd57f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 10px;border-bottom:1px solid#eee}.delete-last-message-button.jsx-f14b7ebe9cebd57f{background:none;border:none;font-size:1.2em;cursor:pointer;padding:5px;color:#777}.delete-last-message-button.jsx-f14b7ebe9cebd57f:hover{color:#333}.messages.jsx-f14b7ebe9cebd57f{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow-y:auto;padding:10px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.message.jsx-f14b7ebe9cebd57f{padding:8px 12px;margin-bottom:8px;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;max-width:85%;word-wrap:break-word}.user.jsx-f14b7ebe9cebd57f{background-color:#dcf8c6;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;-webkit-border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;border-bottom-right-radius:4px}.bot.jsx-f14b7ebe9cebd57f{background-color:#f1f0f0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;-webkit-border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;border-bottom-left-radius:4px}.inline-menu-button.jsx-f14b7ebe9cebd57f{background-color:#fff;border:1px solid#007bff;color:#007bff;padding:8px 12px;margin-top:5px;margin-right:5px;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;cursor:pointer;display:inline-block}.inline-menu-button.jsx-f14b7ebe9cebd57f:hover{background-color:#007bff;color:#fff}.input-area.jsx-f14b7ebe9cebd57f{padding:10px;border-top:1px solid#ccc;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.input-area.jsx-f14b7ebe9cebd57f input.jsx-f14b7ebe9cebd57f{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:10px;border:1px solid#ddd;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;margin-right:10px}.input-area.jsx-f14b7ebe9cebd57f button.jsx-f14b7ebe9cebd57f{padding:10px 15px;border:none;background-color:#007bff;color:white;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;cursor:pointer}"})]})}var d=r(426);let n=JSON.parse('[{"sender":"bot","text":"Здравствуйте! Я ваш риелтор-помощник. Мой адрес @irina-nikolaevna-mordushova-bot. Добавляйте его во все объявления и визитки.\\nи просто ждите от меня сообщений, я не подведу."},{"sender":"bot","text":"Обратился клиент #27. Я начинаю с ним общение. Если захотите завершить диалог, или перехватить диалог нажмите кнопку ниже.","menu":[{"text":"Перехватить","callback_data":"center"},{"text":"Вежливое завершить","callback_data":"north"}]},{"sender":"bot","text":"Клиент #27 - продавец Квартиры в Кировке.","menu":[{"text":"Перехватить","callback_data":"center"},{"text":"Вежливое завершить","callback_data":"north"}]},{"sender":"bot","text":"Ирина #27. Продавец квартиры в Кировке.","menu":[{"text":"Перехватить","callback_data":"center"},{"text":"Вежливое завершить","callback_data":"north"}]},{"sender":"bot","text":"Ирина #27. Продавец квартиры в Кировке: 4 комнаты, 96 метров.","menu":[{"text":"Перехватить","callback_data":"center"},{"text":"Вежливое завершить","callback_data":"north"}]},{"sender":"bot","text":"Ирина #27. Продавец квартиры в Кировке: 4 комнаты, 96 метров. Вы хотите позвонить ей? или продолжите общаться через меня?","menu":[{"text":"Перезвоню","callback_data":"center"},{"text":"Поделись моим номером","callback_data":"center"},{"text":"Продолжу общаться через чат","callback_data":"north"}]},{"sender":"bot","text":"Тогда просто пишите ей ответ, как буд-то общаетесь с ней"},{"sender":"user","text":"Вы уже знаете по какой цене хотите продать?"}]'),l=JSON.parse('[{"sender":"bot","text":"Добрый день, меня зовут Ирина Николаевна. Чем могу помочь?"},{"sender":"user","text":"У меня есть квартира в Кировке, я хочу ее продать"},{"sender":"bot","text":"Как к вам можно обращаться?"},{"sender":"user","text":"Ирина"},{"sender":"bot","text":"Ирина, сколько комнат в квартире? какой метраж?"},{"sender":"user","text":"4 комнаты, 96 метров"},{"sender":"bot","text":"Вы уже знаете по какой цене хотите продать?"},{"sender":"user","text":"Совершенно не разбираюсь в ценах, получила эту квартиру по наследству, сама я живу в Москве и не хочу заниматься продажей и показами самостоятельно."}]'),x=JSON.parse('[{"sender":"bot","text":"Добрый день, меня зовут Ирина Николаевна. Чем могу помочь?"},{"sender":"user","text":"Ищу квартиру в Бутковске"},{"sender":"bot","text":"С какой целью? покупка или аренда?"},{"sender":"user","text":"Покупка"},{"sender":"bot","text":"Сколько комнат?"},{"sender":"user","text":"4 комнаты"},{"sender":"bot","text":"Такие квартиры очень редкие, и на сколько я знаю в Бутковске таких нет, за исключением незаконных перепланировок. Но у меня есть продавец из Кировки, это всего в 20 минутах от центра Бутковска"},{"sender":"user","text":"Я пока подумаю, потом свяжусь"},{"sender":"bot","text":"Оставьте телефон, я вам перезвоню через неделю"},{"sender":"user","text":"89000000000"}]');function c(){return(0,s.jsxs)(d.A,{children:[(0,s.jsx)("h1",{children:"Демонстрация чат-ботов"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[(0,s.jsx)(a,{dialogSequence:n,title:"Чат риелтора",initialMessagesCount:1}),(0,s.jsx)(a,{dialogSequence:l,title:"Чат продавца"}),(0,s.jsx)(a,{dialogSequence:x,title:"Чат покупателя"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6410)),_N_E=e.O()}]);